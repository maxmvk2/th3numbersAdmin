function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{MrTC:function(t,e,n){"use strict";n.r(e);var i,o=n("ofXK"),a=n("PCNd"),c=n("tyNb"),r=n("mrSG"),s=n("pKmL"),l=n("o0su"),g=n("fXoL"),u=n("Xa2L"),b=n("sYmb"),d=((i=function(){function t(e,n){_classCallCheck(this,t),this.el=e,this.translate=n,e.nativeElement.style.textAlign="he"===n.currentLang?"right":"left",e.nativeElement.style.direction="he"===n.currentLang?"rtl":"ltr"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.subscription=this.translate.onLangChange.subscribe((function(e){t.el.nativeElement.style.textAlign="he"===e.lang?"right":"left",t.el.nativeElement.style.direction="he"===e.lang?"rtl":"ltr"}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||i)(g.Ob(g.l),g.Ob(b.d))},i.\u0275dir=g.Jb({type:i,selectors:[["","rtl",""]]}),i),m=n("bTqV"),h=n("Wp6s");function p(t,e){if(1&t){var n=g.Ub();g.Tb(0,"div",8),g.Tb(1,"mat-card"),g.Tb(2,"mat-card-title"),g.Tb(3,"h6"),g.zc(4),g.Sb(),g.Sb(),g.Tb(5,"mat-card-content"),g.Pb(6,"img",9),g.Sb(),g.Tb(7,"mat-card-subtitle",5),g.zc(8),g.Sb(),g.Tb(9,"mat-card-actions",10),g.Tb(10,"button",11),g.bc("click",(function(t){g.rc(n);var i=e.$implicit;return g.fc().navigateShow(i.id)})),g.zc(11,"Edit"),g.Sb(),g.Tb(12,"button",12),g.bc("click",(function(t){g.rc(n);var i=e.$implicit;return g.fc().deleteShow(i)})),g.zc(13,"Delete"),g.Sb(),g.Sb(),g.Sb(),g.Sb()}if(2&t){var i=e.$implicit,o=g.fc();g.kc("ngClass",o.routeAnimationsElements),g.Bb(4),g.Ac(i.title),g.Bb(2),g.kc("src",i.image?i.image.url:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png",g.tc),g.Bb(2),g.Bc(" ",i.description," ")}}var f,v,w=[{path:"",component:(f=function(){function t(e,n,i,o){_classCallCheck(this,t),this.router=e,this.showsService=n,this.changeDetector=i,this.imagesService=o,this.routeAnimationsElements=s.c,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.startLoadingIndicator(),this.getShowsSub=this.showsService.getShows().subscribe((function(e){t.shows=e.data.shows,console.log(e.data.shows),t.stopLoadingIndicator(null)}))}},{key:"openLink",value:function(t){window.open(t,"_blank")}},{key:"navigateShow",value:function(t){this.router.navigate(["podcast/"+t])}},{key:"deleteShow",value:function(t){var e=this;this.startLoadingIndicator(),t.image&&this.imagesService.deleteImage(t.image.url).subscribe({complete:function(){console.log("Image deleted")},error:function(t){console.log("error",t)}}),Promise.all(t.episodes.map((function(t){return Object(r.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.images.map((function(t){return Object(r.b)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.imagesService.deleteImage(t.url).subscribe({complete:function(){console.log("Image of episode deleted")},error:function(t){console.log("error",t)}});case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e)})))}))).then((function(){e.showsService.deleteShow(t.id).subscribe({complete:function(){e.shows=e.shows.filter((function(e){return e.id!==t.id})),e.changeDetector.detectChanges(),e.stopLoadingIndicator(null)},error:function(t){e.stopLoadingIndicator(null),console.log("error",t)}})}))}},{key:"startLoadingIndicator",value:function(){this.loading=!0,this.changeDetector.detectChanges()}},{key:"stopLoadingIndicator",value:function(t){this.loading=!1,this.changeDetector.detectChanges()}}]),t}(),f.\u0275fac=function(t){return new(t||f)(g.Ob(c.h),g.Ob(l.c),g.Ob(g.h),g.Ob(l.b))},f.\u0275cmp=g.Ib({type:f,selectors:[["anms-feature-list"]],decls:12,vars:9,consts:[[1,"loading-indicator-container"],[1,"loading-indicator"],[1,"container",3,"ngClass"],[1,"row"],[1,"col-md-12","main-heading"],["rtl",""],["mat-raised-button","","color","accent",3,"click"],["class","col-md-6 col-lg-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-3",3,"ngClass"],["mat-card-image","","alt","Show image",3,"src"],["align","start"],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn","align","end",3,"click"]],template:function(t,e){1&t&&(g.Tb(0,"div",0),g.Pb(1,"mat-spinner",1),g.Sb(),g.Tb(2,"div",2),g.Tb(3,"div",3),g.Tb(4,"div",4),g.Tb(5,"h1",5),g.zc(6),g.gc(7,"translate"),g.Sb(),g.Tb(8,"button",6),g.bc("click",(function(t){return e.navigateShow("create")})),g.zc(9,"Create new show"),g.Sb(),g.Sb(),g.Sb(),g.Tb(10,"div",3),g.yc(11,p,14,4,"div",7),g.Sb(),g.Sb()),2&t&&(g.xc("display",e.loading?"flex":"none"),g.Bb(2),g.xc("display",e.loading?"none":"block"),g.kc("ngClass",e.routeAnimationsElements),g.Bb(4),g.Ac(g.hc(7,7,"anms.shows.title")),g.Bb(5),g.kc("ngForOf",e.shows))},directives:[u.b,o.i,d,m.b,o.j,h.a,h.g,h.c,h.d,h.f,h.b],pipes:[b.c],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}.main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 20px;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.main-heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 8px}mat-card[_ngcontent-%COMP%]{margin:0 0 20px}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{position:relative;margin-bottom:1.1rem;text-transform:uppercase;vertical-align:center}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{vertical-align:center;position:absolute;top:.3rem;right:0;float:right;font-size:10px}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin:0;padding:0}@media(max-width:576px){mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{min-height:auto}}mat-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:relative;bottom:2px;font-size:16px;margin:6px}mat-card[_ngcontent-%COMP%]   a[mat-icon-button][_ngcontent-%COMP%]{position:relative;left:5px}.loading-indicator-container[_ngcontent-%COMP%]{height:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.loading-indicator[_ngcontent-%COMP%]{margin:3.7em}"],changeDetection:0}),f),data:{title:"anms.menu.components"}}],C=((v=function t(){_classCallCheck(this,t)}).\u0275mod=g.Mb({type:v}),v.\u0275inj=g.Lb({factory:function(t){return new(t||v)},imports:[[c.l.forChild(w)],c.l]}),v);n.d(e,"ShowsModule",(function(){return _}));var k,_=((k=function t(){_classCallCheck(this,t)}).\u0275mod=g.Mb({type:k}),k.\u0275inj=g.Lb({factory:function(t){return new(t||k)},imports:[[o.c,a.a,C]]}),k)}}]);