(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{MrTC:function(t,n,e){"use strict";e.r(n);var i=e("ofXK"),o=e("PCNd"),c=e("tyNb"),a=e("mrSG"),r=e("o0su"),s=e("4GOx"),d=e("fXoL"),g=e("Xa2L"),l=e("cz58"),b=e("bTqV"),h=e("NFeN"),m=e("Wp6s"),p=e("sYmb");function u(t,n){if(1&t){const t=d.Wb();d.Vb(0,"div",10),d.Vb(1,"mat-card"),d.Vb(2,"mat-card-title"),d.Vb(3,"h6"),d.Dc(4),d.Ub(),d.Ub(),d.Vb(5,"mat-card-content"),d.Rb(6,"img",11),d.Ub(),d.Vb(7,"mat-card-subtitle",5),d.Dc(8),d.Ub(),d.Vb(9,"mat-card-actions",12),d.Vb(10,"button",13),d.dc("click",(function(e){d.vc(t);const i=n.$implicit;return d.hc().navigateShow(i.id.toString())})),d.Dc(11," Edit "),d.Ub(),d.Vb(12,"button",14),d.dc("click",(function(e){d.vc(t);const i=n.$implicit;return d.hc().deleteShow(i)})),d.Dc(13," Delete "),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=n.$implicit,e=d.hc();d.Cb(4),d.Ec(t.title),d.Cb(2),d.mc("src",t.image?t.image.url:e.noImage,d.xc),d.Cb(2),d.Ec(t.description)}}const w=function(t,n){return{flexible:t,hidden:n}},f=function(t,n){return{hidden:t,block:n}},C=[{path:"",component:(()=>{class t{constructor(t,n,i,o){this._router=t,this._showsService=n,this._changeDetector=i,this._imagesService=o,this.shows=[],this.currentPage=1,this.endPage=1,this.loading=!1,this.noImage=e("YuY8"),this._pageSize=8}ngOnInit(){return Object(a.b)(this,void 0,void 0,(function*(){yield this.getAllShows(this.currentPage)}))}getAllShows(t){return Object(a.b)(this,void 0,void 0,(function*(){this.startLoadingIndicator();try{const n=yield this._showsService.getShows(t,this._pageSize).toPromise();this.shows=n.data.shows.data,this._totalShowCount=n.data.shows.totalCount,this.endPage=Math.ceil(this._totalShowCount/this._pageSize),this.stopLoadingIndicator()}catch(n){this.stopLoadingIndicator(),s.a.error(n)}}))}navigateShow(t){return Object(a.b)(this,void 0,void 0,(function*(){yield this._router.navigate(["podcast/"+t])}))}deleteShow(t){return Object(a.b)(this,void 0,void 0,(function*(){if(this.startLoadingIndicator(),t.image)try{yield this._imagesService.deleteImage(t.image.url).toPromise(),s.a.log("Image was deleted.")}catch(n){s.a.error(n)}this.deleteAllEpisodeImagesOfShow(t)}))}deleteAllEpisodeImagesOfShow(t){Promise.all(t.episodes.map(t=>Object(a.b)(this,void 0,void 0,(function*(){t.images.map(t=>Object(a.b)(this,void 0,void 0,(function*(){try{yield this._imagesService.deleteImage(t.url).toPromise(),s.a.log("Image was deleted.")}catch(n){s.a.error(n)}})))})))).then(()=>Object(a.b)(this,void 0,void 0,(function*(){try{yield this._showsService.deleteShow(t.id).toPromise(),yield this.getAllShows(this.currentPage)}catch(n){s.a.error(n)}})))}startLoadingIndicator(){this.loading=!0,this._changeDetector.detectChanges()}stopLoadingIndicator(){this.loading=!1,this._changeDetector.detectChanges()}changePage(t){return Object(a.b)(this,void 0,void 0,(function*(){this.startLoadingIndicator(),this.currentPage=t,this._changeDetector.detectChanges(),yield this.getAllShows(t)}))}}return t.\u0275fac=function(n){return new(n||t)(d.Qb(c.h),d.Qb(r.d),d.Qb(d.h),d.Qb(r.c))},t.\u0275cmp=d.Kb({type:t,selectors:[["anms-feature-list"]],decls:21,vars:15,consts:[[1,"loading-indicator-container",3,"ngClass"],[1,"loading-indicator"],[1,"container",3,"ngClass"],[1,"row"],[1,"col-md-12","main-heading"],["rtl",""],["mat-raised-button","","color","accent",3,"click"],["class","col-md-6 col-lg-3",4,"ngFor","ngForOf"],[1,"pages"],["mat-button","","color","accent",3,"disabled","click"],[1,"col-md-6","col-lg-3"],["mat-card-image","","alt","Show image",3,"src"],["align","start"],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn","align","end",3,"click"]],template:function(t,n){1&t&&(d.Vb(0,"div",0),d.Rb(1,"mat-spinner",1),d.Ub(),d.Vb(2,"div",2),d.Vb(3,"div",3),d.Vb(4,"div",4),d.Vb(5,"h1",5),d.Dc(6),d.ic(7,"translate"),d.Ub(),d.Vb(8,"button",6),d.dc("click",(function(t){return n.navigateShow("create")})),d.Dc(9," Create new show "),d.Ub(),d.Ub(),d.Ub(),d.Vb(10,"div",3),d.Cc(11,u,14,3,"div",7),d.Ub(),d.Vb(12,"div",8),d.Vb(13,"button",9),d.dc("click",(function(t){return n.changePage(n.currentPage-1)})),d.Vb(14,"mat-icon"),d.Dc(15,"keyboard_arrow_left"),d.Ub(),d.Ub(),d.Vb(16,"div"),d.Dc(17),d.Ub(),d.Vb(18,"button",9),d.dc("click",(function(t){return n.changePage(n.currentPage+1)})),d.Vb(19,"mat-icon"),d.Dc(20,"keyboard_arrow_right"),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.mc("ngClass",d.qc(9,w,n.loading,!n.loading)),d.Cb(2),d.mc("ngClass",d.qc(12,f,n.loading,!n.loading)),d.Cb(4),d.Ec(d.jc(7,7,"anms.shows.title")),d.Cb(5),d.mc("ngForOf",n.shows),d.Cb(2),d.mc("disabled",n.currentPage<=1),d.Cb(4),d.Ec(n.currentPage),d.Cb(1),d.mc("disabled",n.currentPage>=n.endPage))},directives:[i.i,g.b,l.a,b.a,i.j,h.a,m.a,m.g,m.c,m.d,m.f,m.b],pipes:[p.c],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}.main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 20px;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.main-heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 8px}mat-card[_ngcontent-%COMP%]{margin:0 0 20px}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{position:relative;margin-bottom:1.1rem;text-transform:uppercase;vertical-align:center}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{vertical-align:center;position:absolute;top:.3rem;right:0;float:right;font-size:10px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:250px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%}mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin:0;padding:0}@media(max-width:576px){mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{min-height:auto}}mat-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:relative;bottom:2px;font-size:16px;margin:6px}mat-card[_ngcontent-%COMP%]   a[mat-icon-button][_ngcontent-%COMP%]{position:relative;left:5px}.pages[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;margin:12px;padding:6px}.pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:32px;font-size:30px;height:32px}.loading-indicator-container[_ngcontent-%COMP%]{height:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.loading-indicator[_ngcontent-%COMP%]{margin:3.7em}.hidden[_ngcontent-%COMP%]{display:none}.block[_ngcontent-%COMP%]{display:block}.flexible[_ngcontent-%COMP%]{display:-webkit-box;display:flex}"],changeDetection:0}),t})(),data:{title:"anms.menu.components"}}];let P=(()=>{class t{}return t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({factory:function(n){return new(n||t)},imports:[[c.l.forChild(C)],c.l]}),t})();e.d(n,"ShowsModule",(function(){return _}));let _=(()=>{class t{}return t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({factory:function(n){return new(n||t)},imports:[[i.c,o.a,P]]}),t})()},YuY8:function(t,n,e){t.exports=e.p+"podcast-symbol-clipart.6f53ba8f52442aa30d75.jpg"}}]);