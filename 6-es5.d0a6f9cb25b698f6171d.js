function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{VXX1:function(t,e,i){t.exports=i.p+"release-butler.3136673fde1209d59efa.png"},dw5w:function(t,e,i){"use strict";i.r(e);var n,a,c=i("ofXK"),o=i("PCNd"),s=i("tyNb"),r=i("pKmL"),l=i("o0su"),d=i("fXoL"),u=i("3Pt+"),b=i("0IaG"),g=i("NFeN"),m=i("kmnG"),p=i("qFsG"),f=i("bTqV"),S=((n=function(){function t(e,i){_classCallCheck(this,t),this.dialogRef=e,this.formBuilder=i,this.createdStatistic=new d.n}return _createClass(t,[{key:"ngOnInit",value:function(){this.editStatisticForm=this.formBuilder.group({title:["New statistic",u.p.required],description:"",url:""})}},{key:"createStatistic",value:function(){this.newStatistic={title:this.formStatisticInput.title.value,description:this.formStatisticInput.description.value,url:this.formStatisticInput.url.value},this.createdStatistic.emit(this.newStatistic),this.dialogRef.close()}},{key:"onClose",value:function(){this.dialogRef.close()}},{key:"formStatisticInput",get:function(){return this.editStatisticForm.controls}}]),t}()).\u0275fac=function(t){return new(t||n)(d.Ob(b.c),d.Ob(u.c))},n.\u0275cmp=d.Ib({type:n,selectors:[["anms-create-statistic"]],decls:20,vars:2,consts:[[1,"close"],[3,"click"],["autocomplete","off",3,"formGroup"],[1,"title"],["matInput","","type","text","formControlName","title"],["matInput","","type","text","rows","2","formControlName","description"],["matInput","","type","text","formControlName","url"],["mat-raised-button","","color","accent",3,"disabled","click"]],template:function(t,e){1&t&&(d.Tb(0,"div",0),d.Tb(1,"mat-icon",1),d.bc("click",(function(t){return e.onClose()})),d.zc(2,"close"),d.Sb(),d.Sb(),d.Tb(3,"form",2),d.Tb(4,"mat-form-field",3),d.Tb(5,"mat-label"),d.zc(6,"Statistic title"),d.Sb(),d.Pb(7,"input",4),d.Tb(8,"mat-error"),d.zc(9," Please provide a valid title "),d.Sb(),d.Sb(),d.Tb(10,"mat-form-field"),d.Tb(11,"mat-label"),d.zc(12,"Statistic description"),d.Sb(),d.Pb(13,"textarea",5),d.Sb(),d.Tb(14,"mat-form-field"),d.Tb(15,"mat-label"),d.zc(16,"Statistic url"),d.Sb(),d.Pb(17,"input",6),d.Sb(),d.Tb(18,"button",7),d.bc("click",(function(t){return e.createStatistic()})),d.zc(19," Create statistic "),d.Sb(),d.Sb()),2&t&&(d.Bb(3),d.kc("formGroup",e.editStatisticForm),d.Bb(15),d.kc("disabled",e.editStatisticForm.invalid))},directives:[g.a,u.q,u.k,u.e,m.b,m.e,p.b,u.b,u.j,u.d,m.a,f.a],styles:[".close[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}.close[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}mat-form-field[_ngcontent-%COMP%]{width:100%}.title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem}"]}),n),h=i("Xa2L"),k=i("cz58"),C=i("Wp6s"),v=((a=function(){function t(e,i,n){_classCallCheck(this,t),this.formBuilder=e,this.changeDetector=i,this.statisticsService=n,this.updatedStatistic=new d.n,this.deletedStatistic=new d.n,this.routeAnimationsElements=r.c}return _createClass(t,[{key:"ngOnInit",value:function(){this.editStatisticForm=this.formBuilder.group({title:[this.statistic.title,u.p.required],description:this.statistic.description,url:this.statistic.url})}},{key:"saveStatistic",value:function(){this.updatedStatistic.emit({id:this.statistic.id,title:this.formStatisticInput.title.value,description:this.formStatisticInput.description.value,url:this.formStatisticInput.url.value})}},{key:"deleteStatistic",value:function(){this.deletedStatistic.emit(this.statistic)}},{key:"formStatisticInput",get:function(){return this.editStatisticForm.controls}}]),t}()).\u0275fac=function(t){return new(t||a)(d.Ob(u.c),d.Ob(d.h),d.Ob(l.d))},a.\u0275cmp=d.Ib({type:a,selectors:[["anms-stat"]],inputs:{statistic:"statistic"},outputs:{updatedStatistic:"updatedStatistic",deletedStatistic:"deletedStatistic"},decls:24,vars:3,consts:[["autocomplete","off",3,"formGroup","ngClass"],["matInput","","type","text","formControlName","title"],["matInput","","type","text","rows","2","formControlName","description"],["rtl",""],["matInput","","type","text","formControlName","url"],["mat-button","","color","accent",3,"disabled","click"],["mat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(d.Tb(0,"form",0),d.Tb(1,"mat-card"),d.Tb(2,"mat-card-title"),d.Tb(3,"mat-form-field"),d.Tb(4,"mat-label"),d.zc(5,"Statistic title"),d.Sb(),d.Pb(6,"input",1),d.Tb(7,"mat-error"),d.zc(8," Please provide a valid title "),d.Sb(),d.Sb(),d.Sb(),d.Tb(9,"mat-card-content"),d.Tb(10,"mat-form-field"),d.Tb(11,"mat-label"),d.zc(12,"Statistic description"),d.Sb(),d.Pb(13,"textarea",2),d.Sb(),d.Sb(),d.Tb(14,"mat-card-subtitle",3),d.Tb(15,"mat-form-field"),d.Tb(16,"mat-label"),d.zc(17,"Statistic url"),d.Sb(),d.Pb(18,"input",4),d.Sb(),d.Sb(),d.Tb(19,"mat-card-actions"),d.Tb(20,"button",5),d.bc("click",(function(t){return e.saveStatistic()})),d.zc(21,"Save"),d.Sb(),d.Tb(22,"button",6),d.bc("click",(function(t){return e.deleteStatistic()})),d.zc(23,"Delete"),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&t&&(d.kc("formGroup",e.editStatisticForm)("ngClass",e.routeAnimationsElements),d.Bb(20),d.kc("disabled",e.editStatisticForm.invalid))},directives:[u.q,u.k,u.e,c.i,C.a,C.g,m.b,m.e,p.b,u.b,u.j,u.d,m.a,C.c,C.f,k.a,C.b,f.a],styles:["mat-card[_ngcontent-%COMP%]{margin:10px 0}mat-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{position:relative;vertical-align:center;font-size:1rem;margin-bottom:1rem}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0}"],changeDetection:0}),a);function P(t,e){if(1&t){var i=d.Ub();d.Tb(0,"anms-stat",12),d.bc("updatedStatistic",(function(t){return d.rc(i),d.fc().onSaveStatistic(t)}))("deletedStatistic",(function(t){return d.rc(i),d.fc().onDeleteStatistic(t)})),d.Sb()}2&t&&d.kc("statistic",e.$implicit)}var y,_,O=[{path:"",component:(y=function(){function t(e,n,a){_classCallCheck(this,t),this.statisticsService=e,this.changeDetector=n,this.dialog=a,this.routeAnimationsElements=r.c,this.releaseButler=i("VXX1"),this.statistics=[],this.currentPage=1,this.endPage=1,this.pageSize=5,this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAllStatistics(this.currentPage)}},{key:"getAllStatistics",value:function(t){var e=this;this.startLoadingIndicator(),this.statisticsService.getStatistics(t,this.pageSize).subscribe({next:function(t){e.statistics=t.data.statistics.data,e.totalStatisticsCount=t.data.statistics.totalCount,e.endPage=Math.ceil(e.totalStatisticsCount/e.pageSize),e.stopLoadingIndicator(null),e.changeDetector.detectChanges()},error:function(t){console.log("error",t),e.stopLoadingIndicator(null)}})}},{key:"openCreateStatWindow",value:function(){var t=this;this.dialog.open(S,{width:"700px"}).componentInstance.createdStatistic.subscribe((function(e){t.startLoadingIndicator(),t.statisticsService.createStatistic(e).subscribe({complete:function(){t.currentPage=1,t.changeDetector.detectChanges(),t.getAllStatistics(t.currentPage)},error:function(e){console.log("error",e),t.stopLoadingIndicator(null)}})}))}},{key:"onSaveStatistic",value:function(t){var e=this;this.startLoadingIndicator(),this.statisticsService.updateStatistic(t.id,{title:t.title,description:t.description,url:t.url}).subscribe({complete:function(){e.stopLoadingIndicator(null)},error:function(t){e.stopLoadingIndicator(null),console.log("error",t)}})}},{key:"onDeleteStatistic",value:function(t){var e=this;this.startLoadingIndicator(),this.statisticsService.deleteStatistic(t.id).subscribe({complete:function(){e.getAllStatistics(e.currentPage)},error:function(t){e.stopLoadingIndicator(null),console.log("error",t)}})}},{key:"changePage",value:function(t){this.currentPage=t,this.changeDetector.detectChanges(),this.getAllStatistics(t)}},{key:"startLoadingIndicator",value:function(){this.loading=!0,this.changeDetector.detectChanges()}},{key:"stopLoadingIndicator",value:function(t){this.loading=!1,this.changeDetector.detectChanges()}}]),t}(),y.\u0275fac=function(t){return new(t||y)(d.Ob(l.d),d.Ob(d.h),d.Ob(b.a))},y.\u0275cmp=d.Ib({type:y,selectors:[["anms-statistics"]],decls:21,vars:9,consts:[[1,"background"],[1,"loading-indicator-container"],[1,"loading-indicator"],[1,"gradient"],[1,"container",3,"ngClass"],[1,"row"],[1,"col-md-12","main-heading"],["rtl",""],["mat-raised-button","","color","accent",3,"click"],[3,"statistic","updatedStatistic","deletedStatistic",4,"ngFor","ngForOf"],[1,"pages"],["mat-button","","color","accent",3,"disabled","click"],[3,"statistic","updatedStatistic","deletedStatistic"]],template:function(t,e){1&t&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Pb(2,"mat-spinner",2),d.Sb(),d.Tb(3,"div",3),d.Tb(4,"div",4),d.Tb(5,"div",5),d.Tb(6,"div",6),d.Tb(7,"h1",7),d.zc(8,"Statistics"),d.Sb(),d.Tb(9,"button",8),d.bc("click",(function(t){return e.openCreateStatWindow()})),d.zc(10,"Create new statistic"),d.Sb(),d.Sb(),d.Sb(),d.yc(11,P,1,1,"anms-stat",9),d.Tb(12,"div",10),d.Tb(13,"button",11),d.bc("click",(function(t){return e.changePage(e.currentPage-1)})),d.Tb(14,"mat-icon"),d.zc(15,"keyboard_arrow_left"),d.Sb(),d.Sb(),d.Tb(16,"div"),d.zc(17),d.Sb(),d.Tb(18,"button",11),d.bc("click",(function(t){return e.changePage(e.currentPage+1)})),d.Tb(19,"mat-icon"),d.zc(20,"keyboard_arrow_right"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&t&&(d.Bb(1),d.xc("display",e.loading?"flex":"none"),d.Bb(3),d.xc("display",e.loading?"none":"block"),d.kc("ngClass",e.routeAnimationsElements),d.Bb(7),d.kc("ngForOf",e.statistics),d.Bb(2),d.kc("disabled",e.currentPage<=1),d.Bb(4),d.Ac(e.currentPage),d.Bb(1),d.kc("disabled",e.currentPage>=e.endPage))},directives:[h.b,c.i,k.a,f.a,c.j,g.a,v],styles:['h1[_ngcontent-%COMP%]{text-align:center;font-size:2.2em;text-transform:uppercase;font-weight:700}.background[_ngcontent-%COMP%]{height:100%;padding:50px 0 0;position:relative}.background[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:0;right:0;background:url(intro.f4e64f141d1a6a44b226.jpg) no-repeat top fixed;background-size:cover;opacity:.7;content:"";z-index:0}.background[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]:before{position:fixed;top:51%;left:0;bottom:0;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;padding-bottom:50px}.background[_ngcontent-%COMP%]   .pages[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.background[_ngcontent-%COMP%]   .pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;margin:12px;padding:6px}.background[_ngcontent-%COMP%]   .pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:32px;font-size:30px;height:32px}.background[_ngcontent-%COMP%]   .loading-indicator-container[_ngcontent-%COMP%]{height:90%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.background[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{margin:3.7em}'],changeDetection:0}),y),data:{title:"anms.menu.statistics"}}],w=((_=function t(){_classCallCheck(this,t)}).\u0275mod=d.Mb({type:_}),_.\u0275inj=d.Lb({factory:function(t){return new(t||_)},imports:[[s.l.forChild(O)],s.l]}),_);i.d(e,"StatisticsModule",(function(){return x}));var T,x=((T=function t(){_classCallCheck(this,t)}).\u0275mod=d.Mb({type:T}),T.\u0275inj=d.Lb({factory:function(t){return new(t||T)},imports:[[c.c,o.a,w]]}),T)}}]);