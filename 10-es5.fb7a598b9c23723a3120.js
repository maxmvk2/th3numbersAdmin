function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{MrTC:function(t,e,n){"use strict";n.r(e);var o=n("ofXK"),i=n("PCNd"),a=n("tyNb"),c=n("mrSG"),r=n("pKmL"),s=n("o0su"),l=n("fXoL"),g=n("Xa2L"),d=n("cz58"),b=n("bTqV"),u=n("NFeN"),m=n("Wp6s"),h=n("sYmb");function p(t,e){if(1&t){var n=l.Ub();l.Tb(0,"div",10),l.Tb(1,"mat-card"),l.Tb(2,"mat-card-title"),l.Tb(3,"h6"),l.zc(4),l.Sb(),l.Sb(),l.Tb(5,"mat-card-content"),l.Pb(6,"img",11),l.Sb(),l.Tb(7,"mat-card-subtitle",5),l.zc(8),l.Sb(),l.Tb(9,"mat-card-actions",12),l.Tb(10,"button",13),l.bc("click",(function(t){l.rc(n);var o=e.$implicit;return l.fc().navigateShow(o.id)})),l.zc(11,"Edit"),l.Sb(),l.Tb(12,"button",14),l.bc("click",(function(t){l.rc(n);var o=e.$implicit;return l.fc().deleteShow(o)})),l.zc(13,"Delete"),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&t){var o=e.$implicit,i=l.fc();l.Bb(4),l.Ac(o.title),l.Bb(2),l.kc("src",o.image?o.image.url:i.noImage,l.tc),l.Bb(2),l.Bc(" ",o.description," ")}}var f,w,P=[{path:"",component:(f=function(){function t(e,o,i,a){_classCallCheck(this,t),this.router=e,this.showsService=o,this.changeDetector=i,this.imagesService=a,this.routeAnimationsElements=r.c,this.shows=[],this.currentPage=1,this.endPage=1,this.pageSize=8,this.loading=!1,this.noImage=n("YuY8")}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAllShows(this.currentPage)}},{key:"getAllShows",value:function(t){var e=this;this.startLoadingIndicator(),this.getShowsSub=this.showsService.getShows(t,this.pageSize).subscribe({next:function(t){e.shows=t.data.shows.data,e.totalShowCount=t.data.shows.totalCount,e.endPage=Math.ceil(e.totalShowCount/e.pageSize),e.stopLoadingIndicator(null)},error:function(t){console.log("error",t),e.stopLoadingIndicator(null)}})}},{key:"openLink",value:function(t){window.open(t,"_blank")}},{key:"navigateShow",value:function(t){this.router.navigate(["podcast/"+t])}},{key:"deleteShow",value:function(t){var e=this;this.startLoadingIndicator(),t.image&&this.imagesService.deleteImage(t.image.url).subscribe({complete:function(){console.log("Image deleted")},error:function(t){console.log("error",t)}}),Promise.all(t.episodes.map((function(t){return Object(c.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.images.map((function(t){return Object(c.b)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.imagesService.deleteImage(t.url).subscribe({complete:function(){console.log("Image of episode deleted")},error:function(t){console.log("error",t)}});case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e)})))}))).then((function(){e.showsService.deleteShow(t.id).subscribe({complete:function(){e.getAllShows(e.currentPage)},error:function(t){e.stopLoadingIndicator(null),console.log("error",t)}})}))}},{key:"startLoadingIndicator",value:function(){this.loading=!0,this.changeDetector.detectChanges()}},{key:"stopLoadingIndicator",value:function(t){this.loading=!1,this.changeDetector.detectChanges()}},{key:"changePage",value:function(t){this.startLoadingIndicator(),this.currentPage=t,this.changeDetector.detectChanges(),this.getAllShows(t)}}]),t}(),f.\u0275fac=function(t){return new(t||f)(l.Ob(a.h),l.Ob(s.f),l.Ob(l.h),l.Ob(s.d))},f.\u0275cmp=l.Ib({type:f,selectors:[["anms-feature-list"]],decls:21,vars:11,consts:[[1,"loading-indicator-container"],[1,"loading-indicator"],[1,"container"],[1,"row"],[1,"col-md-12","main-heading"],["rtl",""],["mat-raised-button","","color","accent",3,"click"],["class","col-md-6 col-lg-3",4,"ngFor","ngForOf"],[1,"pages"],["mat-button","","color","accent",3,"disabled","click"],[1,"col-md-6","col-lg-3"],["mat-card-image","","alt","Show image",3,"src"],["align","start"],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn","align","end",3,"click"]],template:function(t,e){1&t&&(l.Tb(0,"div",0),l.Pb(1,"mat-spinner",1),l.Sb(),l.Tb(2,"div",2),l.Tb(3,"div",3),l.Tb(4,"div",4),l.Tb(5,"h1",5),l.zc(6),l.gc(7,"translate"),l.Sb(),l.Tb(8,"button",6),l.bc("click",(function(t){return e.navigateShow("create")})),l.zc(9,"Create new show"),l.Sb(),l.Sb(),l.Sb(),l.Tb(10,"div",3),l.yc(11,p,14,3,"div",7),l.Sb(),l.Tb(12,"div",8),l.Tb(13,"button",9),l.bc("click",(function(t){return e.changePage(e.currentPage-1)})),l.Tb(14,"mat-icon"),l.zc(15,"keyboard_arrow_left"),l.Sb(),l.Sb(),l.Tb(16,"div"),l.zc(17),l.Sb(),l.Tb(18,"button",9),l.bc("click",(function(t){return e.changePage(e.currentPage+1)})),l.Tb(19,"mat-icon"),l.zc(20,"keyboard_arrow_right"),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&t&&(l.xc("display",e.loading?"flex":"none"),l.Bb(2),l.xc("display",e.loading?"none":"block"),l.Bb(4),l.Ac(l.hc(7,9,"anms.shows.title")),l.Bb(5),l.kc("ngForOf",e.shows),l.Bb(2),l.kc("disabled",e.currentPage<=1),l.Bb(4),l.Ac(e.currentPage),l.Bb(1),l.kc("disabled",e.currentPage>=e.endPage))},directives:[g.b,d.a,b.a,o.j,u.a,m.a,m.g,m.c,m.d,m.f,m.b],pipes:[h.c],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}.main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 20px;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.main-heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 8px}mat-card[_ngcontent-%COMP%]{margin:0 0 20px}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{position:relative;margin-bottom:1.1rem;text-transform:uppercase;vertical-align:center}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{vertical-align:center;position:absolute;top:.3rem;right:0;float:right;font-size:10px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:250px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%}mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin:0;padding:0}@media(max-width:576px){mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{min-height:auto}}mat-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:relative;bottom:2px;font-size:16px;margin:6px}mat-card[_ngcontent-%COMP%]   a[mat-icon-button][_ngcontent-%COMP%]{position:relative;left:5px}.pages[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;margin:12px;padding:6px}.pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:32px;font-size:30px;height:32px}.loading-indicator-container[_ngcontent-%COMP%]{height:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.loading-indicator[_ngcontent-%COMP%]{margin:3.7em}"],changeDetection:0}),f),data:{title:"anms.menu.components"}}],v=((w=function t(){_classCallCheck(this,t)}).\u0275mod=l.Mb({type:w}),w.\u0275inj=l.Lb({factory:function(t){return new(t||w)},imports:[[a.l.forChild(P)],a.l]}),w);n.d(e,"ShowsModule",(function(){return _}));var C,_=((C=function t(){_classCallCheck(this,t)}).\u0275mod=l.Mb({type:C}),C.\u0275inj=l.Lb({factory:function(t){return new(t||C)},imports:[[o.c,i.a,v]]}),C)}}]);