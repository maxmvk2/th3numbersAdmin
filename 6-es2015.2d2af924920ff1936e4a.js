(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{VXX1:function(t,i,e){t.exports=e.p+"release-butler.3136673fde1209d59efa.png"},dw5w:function(t,i,e){"use strict";e.r(i);var s=e("ofXK"),c=e("PCNd"),a=e("tyNb"),n=e("pKmL"),o=e("o0su"),r=e("fXoL"),l=e("3Pt+"),d=e("0IaG"),b=e("NFeN"),u=e("kmnG"),m=e("qFsG"),p=e("bTqV");let S=(()=>{class t{constructor(t,i){this.dialogRef=t,this.formBuilder=i,this.createdStatistic=new r.n}ngOnInit(){this.editStatisticForm=this.formBuilder.group({title:["New statistic",l.p.required],description:"",url:""})}get formStatisticInput(){return this.editStatisticForm.controls}createStatistic(){this.newStatistic={title:this.formStatisticInput.title.value,description:this.formStatisticInput.description.value,url:this.formStatisticInput.url.value},this.createdStatistic.emit(this.newStatistic),this.dialogRef.close()}onClose(){this.dialogRef.close()}}return t.\u0275fac=function(i){return new(i||t)(r.Ob(d.c),r.Ob(l.c))},t.\u0275cmp=r.Ib({type:t,selectors:[["anms-create-statistic"]],decls:20,vars:2,consts:[[1,"close"],[3,"click"],["autocomplete","off",3,"formGroup"],[1,"title"],["matInput","","type","text","formControlName","title"],["matInput","","type","text","rows","2","formControlName","description"],["matInput","","type","text","formControlName","url"],["mat-raised-button","","color","accent",3,"disabled","click"]],template:function(t,i){1&t&&(r.Tb(0,"div",0),r.Tb(1,"mat-icon",1),r.bc("click",(function(t){return i.onClose()})),r.zc(2,"close"),r.Sb(),r.Sb(),r.Tb(3,"form",2),r.Tb(4,"mat-form-field",3),r.Tb(5,"mat-label"),r.zc(6,"Statistic title"),r.Sb(),r.Pb(7,"input",4),r.Tb(8,"mat-error"),r.zc(9," Please provide a valid title "),r.Sb(),r.Sb(),r.Tb(10,"mat-form-field"),r.Tb(11,"mat-label"),r.zc(12,"Statistic description"),r.Sb(),r.Pb(13,"textarea",5),r.Sb(),r.Tb(14,"mat-form-field"),r.Tb(15,"mat-label"),r.zc(16,"Statistic url"),r.Sb(),r.Pb(17,"input",6),r.Sb(),r.Tb(18,"button",7),r.bc("click",(function(t){return i.createStatistic()})),r.zc(19," Create statistic "),r.Sb(),r.Sb()),2&t&&(r.Bb(3),r.kc("formGroup",i.editStatisticForm),r.Bb(15),r.kc("disabled",i.editStatisticForm.invalid))},directives:[b.a,l.q,l.k,l.e,u.b,u.e,m.b,l.b,l.j,l.d,u.a,p.a],styles:[".close[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}.close[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}mat-form-field[_ngcontent-%COMP%]{width:100%}.title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem}"]}),t})();var f=e("cz58"),g=e("Wp6s");let h=(()=>{class t{constructor(t,i,e){this.formBuilder=t,this.changeDetector=i,this.statisticsService=e,this.updatedStatistic=new r.n,this.deletedStatistic=new r.n,this.routeAnimationsElements=n.c}ngOnInit(){this.editStatisticForm=this.formBuilder.group({title:[this.statistic.title,l.p.required],description:this.statistic.description,url:this.statistic.url})}get formStatisticInput(){return this.editStatisticForm.controls}saveStatistic(){this.updatedStatistic.emit({id:this.statistic.id,title:this.formStatisticInput.title.value,description:this.formStatisticInput.description.value,url:this.formStatisticInput.url.value})}deleteStatistic(){this.deletedStatistic.emit(this.statistic)}}return t.\u0275fac=function(i){return new(i||t)(r.Ob(l.c),r.Ob(r.h),r.Ob(o.d))},t.\u0275cmp=r.Ib({type:t,selectors:[["anms-stat"]],inputs:{statistic:"statistic"},outputs:{updatedStatistic:"updatedStatistic",deletedStatistic:"deletedStatistic"},decls:24,vars:3,consts:[["autocomplete","off",3,"formGroup","ngClass"],["matInput","","type","text","formControlName","title"],["matInput","","type","text","rows","2","formControlName","description"],["rtl",""],["matInput","","type","text","formControlName","url"],["mat-button","","color","accent",3,"disabled","click"],["mat-button","","color","warn",3,"click"]],template:function(t,i){1&t&&(r.Tb(0,"form",0),r.Tb(1,"mat-card"),r.Tb(2,"mat-card-title"),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.zc(5,"Statistic title"),r.Sb(),r.Pb(6,"input",1),r.Tb(7,"mat-error"),r.zc(8," Please provide a valid title "),r.Sb(),r.Sb(),r.Sb(),r.Tb(9,"mat-card-content"),r.Tb(10,"mat-form-field"),r.Tb(11,"mat-label"),r.zc(12,"Statistic description"),r.Sb(),r.Pb(13,"textarea",2),r.Sb(),r.Sb(),r.Tb(14,"mat-card-subtitle",3),r.Tb(15,"mat-form-field"),r.Tb(16,"mat-label"),r.zc(17,"Statistic url"),r.Sb(),r.Pb(18,"input",4),r.Sb(),r.Sb(),r.Tb(19,"mat-card-actions"),r.Tb(20,"button",5),r.bc("click",(function(t){return i.saveStatistic()})),r.zc(21,"Save"),r.Sb(),r.Tb(22,"button",6),r.bc("click",(function(t){return i.deleteStatistic()})),r.zc(23,"Delete"),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.kc("formGroup",i.editStatisticForm)("ngClass",i.routeAnimationsElements),r.Bb(20),r.kc("disabled",i.editStatisticForm.invalid))},directives:[l.q,l.k,l.e,s.i,g.a,g.g,u.b,u.e,m.b,l.b,l.j,l.d,u.a,g.c,g.f,f.a,g.b,p.a],styles:["mat-card[_ngcontent-%COMP%]{margin:10px 0}mat-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{position:relative;vertical-align:center;font-size:1rem;margin-bottom:1rem}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0}"],changeDetection:0}),t})();function v(t,i){if(1&t){const t=r.Ub();r.Tb(0,"anms-stat",8),r.bc("updatedStatistic",(function(i){return r.rc(t),r.fc().onSaveStatistic(i)}))("deletedStatistic",(function(i){return r.rc(t),r.fc().onDeleteStatistic(i)})),r.Sb()}2&t&&r.kc("statistic",i.$implicit)}const C=[{path:"",component:(()=>{class t{constructor(t,i,s){this.statisticsService=t,this.changeDetector=i,this.dialog=s,this.routeAnimationsElements=n.c,this.releaseButler=e("VXX1"),this.statistics=[]}ngOnInit(){this.statisticsService.getStatistics().subscribe(t=>{this.statistics=t.data.statistics.reverse(),this.changeDetector.detectChanges(),console.log(t.data.statistics)})}openCreateStatWindow(){this.dialog.open(S,{width:"700px"}).componentInstance.createdStatistic.subscribe(t=>{console.log("created statistic",t),this.statisticsService.createStatistic(t).subscribe({next:t=>{console.log(t.data.createStatistic.data),this.statistics=[t.data.createStatistic.data,...this.statistics],this.changeDetector.detectChanges()},error:t=>{console.log("error",t)}})})}onSaveStatistic(t){this.statisticsService.updateStatistic(t.id,{title:t.title,description:t.description,url:t.url}).subscribe({next:t=>{console.log(t.data.updateStatistic)},error:t=>{console.log("error",t)}})}onDeleteStatistic(t){this.statisticsService.deleteStatistic(t.id).subscribe({complete:()=>{this.statistics=this.statistics.filter(i=>i.id!==t.id),this.changeDetector.detectChanges()},error:t=>{console.log("error",t)}})}}return t.\u0275fac=function(i){return new(i||t)(r.Ob(o.d),r.Ob(r.h),r.Ob(d.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["anms-statistics"]],decls:10,vars:2,consts:[[1,"background"],[1,"gradient"],[1,"container",3,"ngClass"],[1,"row"],[1,"col-md-12","main-heading"],["rtl",""],["mat-raised-button","","color","accent",3,"click"],[3,"statistic","updatedStatistic","deletedStatistic",4,"ngFor","ngForOf"],[3,"statistic","updatedStatistic","deletedStatistic"]],template:function(t,i){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"h1",5),r.zc(6,"Statistics"),r.Sb(),r.Tb(7,"button",6),r.bc("click",(function(t){return i.openCreateStatWindow()})),r.zc(8,"Create new statistic"),r.Sb(),r.Sb(),r.Sb(),r.yc(9,v,1,1,"anms-stat",7),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Bb(2),r.kc("ngClass",i.routeAnimationsElements),r.Bb(7),r.kc("ngForOf",i.statistics))},directives:[s.i,f.a,p.a,s.j,h],styles:['h1[_ngcontent-%COMP%]{text-align:center;font-size:2.2em;text-transform:uppercase;font-weight:700}.background[_ngcontent-%COMP%]{height:100%;padding:50px 0 0;position:relative}.background[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;bottom:0;right:0;background:url(intro.f4e64f141d1a6a44b226.jpg) no-repeat top fixed;background-size:cover;opacity:.7;content:"";z-index:0}.background[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]:before{position:fixed;top:51%;left:0;bottom:0;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;padding-bottom:50px}'],changeDetection:0}),t})(),data:{title:"anms.menu.statistics"}}];let T=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(i){return new(i||t)},imports:[[a.l.forChild(C)],a.l]}),t})();e.d(i,"StatisticsModule",(function(){return O}));let O=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(i){return new(i||t)},imports:[[s.c,c.a,T]]}),t})()}}]);