(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{MrTC:function(t,n,e){"use strict";e.r(n);var o=e("ofXK"),i=e("PCNd"),c=e("tyNb"),a=e("mrSG"),r=e("pKmL"),s=e("o0su"),g=e("fXoL"),l=e("Xa2L"),b=e("cz58"),d=e("bTqV"),m=e("NFeN"),h=e("Wp6s"),p=e("sYmb");function u(t,n){if(1&t){const t=g.Ub();g.Tb(0,"div",10),g.Tb(1,"mat-card"),g.Tb(2,"mat-card-title"),g.Tb(3,"h6"),g.zc(4),g.Sb(),g.Sb(),g.Tb(5,"mat-card-content"),g.Pb(6,"img",11),g.Sb(),g.Tb(7,"mat-card-subtitle",5),g.zc(8),g.Sb(),g.Tb(9,"mat-card-actions",12),g.Tb(10,"button",13),g.bc("click",(function(e){g.rc(t);const o=n.$implicit;return g.fc().navigateShow(o.id)})),g.zc(11,"Edit"),g.Sb(),g.Tb(12,"button",14),g.bc("click",(function(e){g.rc(t);const o=n.$implicit;return g.fc().deleteShow(o)})),g.zc(13,"Delete"),g.Sb(),g.Sb(),g.Sb(),g.Sb()}if(2&t){const t=n.$implicit,e=g.fc();g.kc("ngClass",e.routeAnimationsElements),g.Bb(4),g.Ac(t.title),g.Bb(2),g.kc("src",t.image?t.image.url:e.noImage,g.tc),g.Bb(2),g.Bc(" ",t.description," ")}}const w=[{path:"",component:(()=>{class t{constructor(t,n,o,i){this.router=t,this.showsService=n,this.changeDetector=o,this.imagesService=i,this.routeAnimationsElements=r.c,this.shows=[],this.currentPage=1,this.endPage=1,this.pageSize=8,this.loading=!1,this.noImage=e("YuY8")}ngOnInit(){this.getAllShows(this.currentPage)}getAllShows(t){this.startLoadingIndicator(),this.getShowsSub=this.showsService.getShows(t,this.pageSize).subscribe({next:t=>{this.shows=t.data.shows.data,this.totalShowCount=t.data.shows.totalCount,this.endPage=Math.ceil(this.totalShowCount/this.pageSize),this.stopLoadingIndicator(null)},error:t=>{console.log("error",t),this.stopLoadingIndicator(null)}})}openLink(t){window.open(t,"_blank")}navigateShow(t){this.router.navigate(["podcast/"+t])}deleteShow(t){this.startLoadingIndicator(),t.image&&this.imagesService.deleteImage(t.image.url).subscribe({complete:()=>{console.log("Image deleted")},error:t=>{console.log("error",t)}}),Promise.all(t.episodes.map(t=>Object(a.b)(this,void 0,void 0,(function*(){t.images.map(t=>Object(a.b)(this,void 0,void 0,(function*(){this.imagesService.deleteImage(t.url).subscribe({complete:()=>{console.log("Image of episode deleted")},error:t=>{console.log("error",t)}})})))})))).then(()=>{this.showsService.deleteShow(t.id).subscribe({complete:()=>{this.getAllShows(this.currentPage)},error:t=>{this.stopLoadingIndicator(null),console.log("error",t)}})})}startLoadingIndicator(){this.loading=!0,this.changeDetector.detectChanges()}stopLoadingIndicator(t){this.loading=!1,this.changeDetector.detectChanges()}changePage(t){this.startLoadingIndicator(),this.currentPage=t,this.changeDetector.detectChanges(),this.getAllShows(t)}}return t.\u0275fac=function(n){return new(n||t)(g.Ob(c.h),g.Ob(s.c),g.Ob(g.h),g.Ob(s.b))},t.\u0275cmp=g.Ib({type:t,selectors:[["anms-feature-list"]],decls:21,vars:12,consts:[[1,"loading-indicator-container"],[1,"loading-indicator"],[1,"container",3,"ngClass"],[1,"row"],[1,"col-md-12","main-heading"],["rtl",""],["mat-raised-button","","color","accent",3,"click"],["class","col-md-6 col-lg-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"pages"],["mat-button","","color","accent",3,"disabled","click"],[1,"col-md-6","col-lg-3",3,"ngClass"],["mat-card-image","","alt","Show image",3,"src"],["align","start"],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn","align","end",3,"click"]],template:function(t,n){1&t&&(g.Tb(0,"div",0),g.Pb(1,"mat-spinner",1),g.Sb(),g.Tb(2,"div",2),g.Tb(3,"div",3),g.Tb(4,"div",4),g.Tb(5,"h1",5),g.zc(6),g.gc(7,"translate"),g.Sb(),g.Tb(8,"button",6),g.bc("click",(function(t){return n.navigateShow("create")})),g.zc(9,"Create new show"),g.Sb(),g.Sb(),g.Sb(),g.Tb(10,"div",3),g.yc(11,u,14,4,"div",7),g.Sb(),g.Tb(12,"div",8),g.Tb(13,"button",9),g.bc("click",(function(t){return n.changePage(n.currentPage-1)})),g.Tb(14,"mat-icon"),g.zc(15,"keyboard_arrow_left"),g.Sb(),g.Sb(),g.Tb(16,"div"),g.zc(17),g.Sb(),g.Tb(18,"button",9),g.bc("click",(function(t){return n.changePage(n.currentPage+1)})),g.Tb(19,"mat-icon"),g.zc(20,"keyboard_arrow_right"),g.Sb(),g.Sb(),g.Sb(),g.Sb()),2&t&&(g.xc("display",n.loading?"flex":"none"),g.Bb(2),g.xc("display",n.loading?"none":"block"),g.kc("ngClass",n.routeAnimationsElements),g.Bb(4),g.Ac(g.hc(7,10,"anms.shows.title")),g.Bb(5),g.kc("ngForOf",n.shows),g.Bb(2),g.kc("disabled",n.currentPage<=1),g.Bb(4),g.Ac(n.currentPage),g.Bb(1),g.kc("disabled",n.currentPage>=n.endPage))},directives:[l.b,o.i,b.a,d.a,o.j,m.a,h.a,h.g,h.c,h.d,h.f,h.b],pipes:[p.c],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}.main-heading[_ngcontent-%COMP%]{text-transform:uppercase;margin:0 0 20px;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.main-heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 8px}mat-card[_ngcontent-%COMP%]{margin:0 0 20px}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{position:relative;margin-bottom:1.1rem;text-transform:uppercase;vertical-align:center;word-wrap:break-word}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{vertical-align:center;position:absolute;top:.3rem;right:0;float:right;font-size:10px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{height:250px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%}mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{word-wrap:break-word}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin:0;padding:0}@media(max-width:576px){mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{min-height:auto}}mat-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:relative;bottom:2px;font-size:16px;margin:6px}mat-card[_ngcontent-%COMP%]   a[mat-icon-button][_ngcontent-%COMP%]{position:relative;left:5px}.pages[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;margin:12px;padding:6px}.pages[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:32px;font-size:30px;height:32px}.loading-indicator-container[_ngcontent-%COMP%]{height:100%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.loading-indicator[_ngcontent-%COMP%]{margin:3.7em}"],changeDetection:0}),t})(),data:{title:"anms.menu.components"}}];let P=(()=>{class t{}return t.\u0275mod=g.Mb({type:t}),t.\u0275inj=g.Lb({factory:function(n){return new(n||t)},imports:[[c.l.forChild(w)],c.l]}),t})();e.d(n,"ShowsModule",(function(){return f}));let f=(()=>{class t{}return t.\u0275mod=g.Mb({type:t}),t.\u0275inj=g.Lb({factory:function(n){return new(n||t)},imports:[[o.c,i.a,P]]}),t})()}}]);